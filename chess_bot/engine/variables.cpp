#include "definitions.h"
#include "variables.h"

using namespace std;

vector<int> color(64);
vector<int> piece(64);
int side;
int engine_side;
vector<int> castle(4);
int ep_sq;
vector<struct Move> moves;

vector <vector<int>> offsets = {
        {},                                     // Pawn
        {-21, -19, -12, -8, 8, 12, 19, 21},     // Knight
        {-11, -9,  9,   11},                    // Bishop
        {-10, -1,  1,   10},                    // Rook
        {-11, -10, -9,  -1, 1, 9,  10, 11},     // King
        {-11, -10, -9,  -1, 1, 9,  10, 11}      // Queen
};

vector<int> table120{
        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
        -1, A8, B8, C8, D8, E8, F8, G8, H8, -1,
        -1, A7, B7, C7, D7, E7, F7, G7, H7, -1,
        -1, A6, B6, C6, D6, E6, F6, G6, H6, -1,
        -1, A5, B5, C5, D5, E5, F5, G5, H5, -1,
        -1, A4, B4, C4, D4, E4, F4, G4, H4, -1,
        -1, A3, B3, C3, D3, E3, F3, G3, H3, -1,
        -1, A2, B2, C2, D2, E2, F2, G2, H2, -1,
        -1, A1, B1, C1, D1, E1, F1, G1, H1, -1,
        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
        -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
};

vector<int> table64{
        21, 22, 23, 24, 25, 26, 27, 28,
        31, 32, 33, 34, 35, 36, 37, 38,
        41, 42, 43, 44, 45, 46, 47, 48,
        51, 52, 53, 54, 55, 56, 57, 58,
        61, 62, 63, 64, 65, 66, 67, 68,
        71, 72, 73, 74, 75, 76, 77, 78,
        81, 82, 83, 84, 85, 86, 87, 88,
        91, 92, 93, 94, 95, 96, 97, 98
};

vector<int> undo_color(64);
vector<int> undo_piece(64);
vector<int> undo_castle(4);
int undo_ep_sq;

vector<int> init_color{
        1, 1, 1, 1, 1, 1, 1, 1,
        1, 1, 1, 1, 1, 1, 1, 1,
        6, 6, 6, 6, 6, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6,
        0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0
};

vector<int> init_piece{
        3, 1, 2, 4, 5, 2, 1, 3,
        0, 0, 0, 0, 0, 0, 0, 0,
        6, 6, 6, 6, 6, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6,
        6, 6, 6, 6, 6, 6, 6, 6,
        0, 0, 0, 0, 0, 0, 0, 0,
        3, 1, 2, 4, 5, 2, 1, 3
};